<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="HanseMerkur Cloud Platform" /><link rel="canonical" href="https://github.com/terraform-coop/terraform-provider-foreman/resources/foreman_discovery_rule/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>foreman_discovery_rule - Terraform Provider Foreman</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "foreman_discovery_rule";
        var mkdocs_page_input_path = "resources/foreman_discovery_rule.md";
        var mkdocs_page_url = "/terraform-coop/terraform-provider-foreman/resources/foreman_discovery_rule/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Terraform Provider Foreman
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Data Sources</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_architecture/">foreman_architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_computeprofile/">foreman_computeprofile</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_computeresource/">foreman_computeresource</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_defaulttemplate/">foreman_defaulttemplate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_domain/">foreman_domain</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_environment/">foreman_environment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_global_parameter/">foreman_global_parameter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_hostgroup/">foreman_hostgroup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_httpproxy/">foreman_httpproxy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_image/">foreman_image</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_jobtemplate/">foreman_jobtemplate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_katello_content_credential/">foreman_katello_content_credential</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_katello_content_view/">foreman_katello_content_view</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_katello_lifecycle_environment/">foreman_katello_lifecycle_environment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_katello_product/">foreman_katello_product</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_katello_repository/">foreman_katello_repository</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_katello_sync_plan/">foreman_katello_sync_plan</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_media/">foreman_media</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_model/">foreman_model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_operatingsystem/">foreman_operatingsystem</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_parameter/">foreman_parameter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_partitiontable/">foreman_partitiontable</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_provisioningtemplate/">foreman_provisioningtemplate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_puppetclass/">foreman_puppetclass</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_setting/">foreman_setting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_smartclassparameter/">foreman_smartclassparameter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_smartproxy/">foreman_smartproxy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_subnet/">foreman_subnet</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_templateinput/">foreman_templateinput</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_templatekind/">foreman_templatekind</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_user/">foreman_user</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data-sources/foreman_usergroup/">foreman_usergroup</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Resources</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_architecture/">foreman_architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_computeprofile/">foreman_computeprofile</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_computeresource/">foreman_computeresource</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_defaulttemplate/">foreman_defaulttemplate</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">foreman_discovery_rule</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#example-usage">Example Usage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#argument-reference">Argument Reference</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#attributes-reference">Attributes Reference</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_domain/">foreman_domain</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_environment/">foreman_environment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_global_parameter/">foreman_global_parameter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_host/">foreman_host</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_hostgroup/">foreman_hostgroup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_httpproxy/">foreman_httpproxy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_image/">foreman_image</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_jobtemplate/">foreman_jobtemplate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_katello_content_credential/">foreman_katello_content_credential</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_katello_content_view/">foreman_katello_content_view</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_katello_lifecycle_environment/">foreman_katello_lifecycle_environment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_katello_product/">foreman_katello_product</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_katello_repository/">foreman_katello_repository</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_katello_sync_plan/">foreman_katello_sync_plan</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_media/">foreman_media</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_model/">foreman_model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_operatingsystem/">foreman_operatingsystem</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_override_value/">foreman_override_value</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_parameter/">foreman_parameter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_partitiontable/">foreman_partitiontable</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_provisioningtemplate/">foreman_provisioningtemplate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_smartproxy/">foreman_smartproxy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_subnet/">foreman_subnet</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_templateinput/">foreman_templateinput</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_user/">foreman_user</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_usergroup/">foreman_usergroup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_webhook/">foreman_webhook</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../foreman_webhooktemplate/">foreman_webhooktemplate</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Terraform Provider Foreman</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Resources</li>
      <li class="breadcrumb-item active">foreman_discovery_rule</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/terraform-coop/terraform-provider-foreman/edit/master/docs/resources/foreman_discovery_rule.md">Edit on terraform-provider-foreman</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="foreman_discovery_rules">foreman_discovery_rules<a class="headerlink" href="#foreman_discovery_rules" title="Permanent link">&para;</a></h1>
<p>Discovery rules in Foreman are used to automatically provision hosts based on predefined criteria.
These rules help streamline the process of adding new hosts to your infrastructure by automating the provisioning process based on specific conditions.</p>
<h2 id="example-usage">Example Usage<a class="headerlink" href="#example-usage" title="Permanent link">&para;</a></h2>
<pre class="codehilite"><code class="language-terraform">resource &quot;foreman_discovery_rule&quot; &quot;example_rule_01&quot; {
  name              = &quot;Example Rule HPE servers&quot;
  search            = &quot;facts.bios_vendor = HPE&quot;
  hostgroup_ids     = 3
  hostname          = &quot;&lt;%= @host.facts['nmprimary_dhcp4_option_host_name'] %&gt;&quot;
  max_count         = 0
  priority          = 100
  enabled           = true
  location_ids      = [2]
  organization_ids  = [1]
}
</code></pre>

<h2 id="argument-reference">Argument Reference<a class="headerlink" href="#argument-reference" title="Permanent link">&para;</a></h2>
<p>The following arguments are supported:</p>
<ul>
<li><code>name</code> - (Required) The name of the discovery rule.</li>
<li><code>search</code> - (Required) The search criteria used to match hosts.</li>
<li><code>priority</code> - (Required) The priority of the rule.</li>
<li><code>hostgroup_id</code> - (Optional) The ID of the host group to which the discovered host will be assigned.</li>
<li><code>enabled</code> - (Optional) A boolean value indicating whether the discovery rule is enabled. When set to <code>true</code>, the rule is active and will be evaluated.</li>
<li><code>order</code> - (Optional) An integer specifying the order in which the rule is evaluated. Lower numbers are evaluated first.</li>
<li><code>parameters</code> - (Optional) A map of key-value pairs that will be saved as discovery rule parameters. These parameters can be used to pass additional information to the rule.</li>
<li><code>max_count</code> - (Optional) The maximum number of hosts that can be discovered by this rule. A value of <code>0</code> means unlimited.</li>
<li><code>hostname</code> - (Optional) The hostname pattern to be used for the discovered hosts.</li>
<li><code>location_ids</code> - (Optional) A list of location IDs where the discovered hosts will be assigned.</li>
<li><code>organization_ids</code> - (Optional) A list of organization IDs where the discovered hosts will be assigned.</li>
</ul>
<h2 id="attributes-reference">Attributes Reference<a class="headerlink" href="#attributes-reference" title="Permanent link">&para;</a></h2>
<p>The following attributes are exported:</p>
<ul>
<li><code>name</code> - The name of the discovery rule.</li>
<li><code>search</code> - The search criteria used to match hosts.</li>
<li><code>priority</code> - The priority of the rule.</li>
<li><code>hostgroup_id</code> - The ID of the host group to which the discovered host will be assigned.</li>
<li><code>enabled</code> - Whether the discovery rule is enabled.</li>
<li><code>order</code> - The order in which the rule is evaluated.</li>
<li><code>parameters</code> - A map of parameters that will be saved as discovery rule parameters.</li>
<li><code>max_count</code> - (Optional) The maximum number of hosts that can be discovered by this rule. A value of <code>0</code> means unlimited.</li>
<li><code>hostname</code> - (Optional) The hostname pattern to be used for the discovered hosts.</li>
<li><code>location_ids</code> - (Optional) A list of location IDs where the discovered hosts will be assigned.</li>
<li><code>organization_ids</code> - (Optional) A list of organization IDs where the discovered hosts will be assigned.</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../foreman_defaulttemplate/" class="btn btn-neutral float-left" title="foreman_defaulttemplate"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../foreman_domain/" class="btn btn-neutral float-right" title="foreman_domain">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/terraform-coop/terraform-provider-foreman" class="fa fa-code-fork" style="color: #fcfcfc"> terraform-provider-foreman</a>
        </span>
    
    
      <span><a href="../foreman_defaulttemplate/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../foreman_domain/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
